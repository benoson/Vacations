{"ast":null,"code":"// -------------------- This Model Retrieves The User's Type From The sessionStorage And Returns It -------------------- //\n// Explanation -> This Model only determines whether to DISPLAY the user the Admin's control panel. He will not be able to use the control panel.\n// The real valdiation happens on the server, with the user's cache that is saved in the server.\nimport axios from 'axios';\n\nconst getUserTypeFromServerCache = async () => {\n  // Getting the user's type from the server (NOT THE DB).\n  // Explanation -> This validation is only the first layer of security.\n  // The real validation happens on the server, when the Admin tries to make an acion, using the token from the request's header.\n  // So, there are 2 layers of validation for the Admin's actions\n  try {\n    const response = await axios.post('http://localhost:3001/users/type'); // Here we are receiving the user's type\n\n    const userTypeFromServer = response.data;\n    return userTypeFromServer;\n  } catch (error) {\n    return \"\";\n  }\n};\n\nexport const userTypeFromServerCache = getUserTypeFromServerCache();","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/client/src/models/GetUserTypeFromStorage.ts"],"names":["axios","getUserTypeFromServerCache","response","post","userTypeFromServer","data","error","userTypeFromServerCache"],"mappings":"AACA;AAEA;AACA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,0BAA0B,GAAG,YAAY;AAE3C;AAEA;AACA;AACA;AAEA,MAAI;AAEA,UAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,IAAN,CAAW,kCAAX,CAAvB,CAFA,CAIA;;AACA,UAAMC,kBAA2B,GAAGF,QAAQ,CAACG,IAA7C;AAEA,WAAOD,kBAAP;AACH,GARD,CAUA,OAAOE,KAAP,EAAc;AAEV,WAAO,EAAP;AACH;AACJ,CAtBD;;AAwBA,OAAO,MAAMC,uBAAuB,GAAGN,0BAA0B,EAA1D","sourcesContent":["\r\n// -------------------- This Model Retrieves The User's Type From The sessionStorage And Returns It -------------------- //\r\n\r\n// Explanation -> This Model only determines whether to DISPLAY the user the Admin's control panel. He will not be able to use the control panel.\r\n// The real valdiation happens on the server, with the user's cache that is saved in the server.\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nconst getUserTypeFromServerCache = async () => {\r\n\r\n    // Getting the user's type from the server (NOT THE DB).\r\n\r\n    // Explanation -> This validation is only the first layer of security.\r\n    // The real validation happens on the server, when the Admin tries to make an acion, using the token from the request's header.\r\n    // So, there are 2 layers of validation for the Admin's actions\r\n    \r\n    try {\r\n\r\n        const response = await axios.post('http://localhost:3001/users/type');\r\n\r\n        // Here we are receiving the user's type\r\n        const userTypeFromServer : string = response.data;\r\n\r\n        return userTypeFromServer\r\n    }\r\n\r\n    catch (error) {\r\n\r\n        return \"\";\r\n    }\r\n}\r\n\r\nexport const userTypeFromServerCache = getUserTypeFromServerCache();"]},"metadata":{},"sourceType":"module"}