{"ast":null,"code":"import axios from 'axios'; // Explanation -> The interceptor is a just JS variable (from 'axios' library). On refresh => it resets.\n// So, this Model takes the token the user got from the server (which is now inside the sessionStorage),\n// and assigns it to the interceptor\n// Checking if the interceptor is empty\n\nexport const interceptorHandler = () => {\n  // if (axios.defaults.headers.common['Authorization'] === undefined) {\n  let userData = JSON.parse(sessionStorage.getItem(\"userInfo\")); // Checking if the user has a correct sessionStorage JSON\n\n  if (userData !== null) {\n    // Checking if the user has a token\n    if (userData.token !== undefined) {\n      let brearerToken = \"Bearer \" + userData.token;\n      axios.defaults.headers.common['Authorization'] = brearerToken;\n    }\n  } // }\n\n};","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/client/src/models/InterceptorHandler.ts"],"names":["axios","interceptorHandler","userData","JSON","parse","sessionStorage","getItem","token","undefined","brearerToken","defaults","headers","common"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AAEA;;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AAEpC;AAEI,MAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,CAAf,CAJgC,CAMhC;;AACA,MAAIJ,QAAQ,KAAK,IAAjB,EAAuB;AAEnB;AACA,QAAIA,QAAQ,CAACK,KAAT,KAAmBC,SAAvB,EAAkC;AAE9B,UAAIC,YAAY,GAAG,YAAYP,QAAQ,CAACK,KAAxC;AACAP,MAAAA,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,YAAjD;AACH;AACJ,GAf+B,CAgBpC;;AACH,CAjBM","sourcesContent":["import axios from 'axios';\r\n\r\n// Explanation -> The interceptor is a just JS variable (from 'axios' library). On refresh => it resets.\r\n// So, this Model takes the token the user got from the server (which is now inside the sessionStorage),\r\n// and assigns it to the interceptor\r\n\r\n// Checking if the interceptor is empty\r\n\r\nexport const interceptorHandler = () => {\r\n\r\n    // if (axios.defaults.headers.common['Authorization'] === undefined) {\r\n\r\n        let userData = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n    \r\n        // Checking if the user has a correct sessionStorage JSON\r\n        if (userData !== null) {\r\n\r\n            // Checking if the user has a token\r\n            if (userData.token !== undefined) {\r\n    \r\n                let brearerToken = \"Bearer \" + userData.token;\r\n                axios.defaults.headers.common['Authorization'] = brearerToken;\r\n            }\r\n        }\r\n    // }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}