{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ben\\\\Desktop\\\\John Bryce\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8\\u05D9\\u05DD\\\\project3 - Vacations\\\\vacations\\\\src\\\\components\\\\favoriteVacations\\\\FavoriteVacations.tsx\";\nimport React, { Component } from 'react';\nimport poundingHeartAnimation from \"../../assets/poundingHeart.svg\";\nimport FullHeart from '../../assets/likeImg.png';\nimport axios from 'axios';\nimport { store } from '../../Redux/Store';\nimport { ActionType } from '../../Redux/ActionType';\nimport colorfulAstroid from '../../assets/wavyLine.png';\nimport noVacations from '../../assets/noVacations.png';\nimport './favoriteVacations.css';\nexport default class FavoriteVacations extends Component {\n  constructor(props) {\n    super(props);\n    this.unSubscribeStore = void 0;\n\n    this.componentWillUnmount = () => {\n      // Unsubscribing the store's listener right before the component will unmount\n      // In order to make a small space optimization\n      this.unSubscribeStore();\n    };\n\n    this.componentDidMount = () => {\n      // Explanation -> The interceptor is a just JS variable (from axios library). On refresh = it resets.\n      // So, this function takes the token the user got from the server (which is now inside the sessionStorage),\n      // and assign it to the interceptor\n      this.handleInterceptor(); // Optimizing a bit the memory leak of the store listener\n      // Also subscribes automatically to the store\n\n      this.unSubscribeStore = store.subscribe(() => this.setState({\n        favoriteVacations: store.getState().favoriteVacations\n      }));\n\n      if (store.getState().favoriteVacations.length === 0) {\n        this.getFavoriteVacationsFromServer();\n      } else {\n        this.setState({\n          favoriteVacations: store.getState().favoriteVacations\n        });\n      }\n    };\n\n    this.checkIfUserIsLogged = () => {\n      let userData = JSON.parse(sessionStorage.getItem(\"userInfo\")); // Checking if the user has a correct sessionStorage JSON\n\n      if (userData !== null) {\n        // Checking if the user has a token\n        if (userData.token !== undefined) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.handleInterceptor = () => {\n      // Explanation -> The interceptor is a just JS variable (from axios library). On refresh = it resets.\n      // So, this function takes the token the user got from the server (which is now inside the sessionStorage),\n      // and assign it to the interceptor\n      // Checking if the interceptor is empty\n      if (axios.defaults.headers.common['Authorization'] === undefined) {\n        let userData = JSON.parse(sessionStorage.getItem(\"userInfo\")); // Checking if the user has a correct sessionStorage JSON\n\n        if (userData !== null) {\n          // Checking if the user has a token\n          if (userData.token !== undefined) {\n            let brearerToken = \"Bearer \" + userData.token;\n            axios.defaults.headers.common['Authorization'] = brearerToken;\n          }\n        }\n      }\n    };\n\n    this.getFavoriteVacationsFromServer = async () => {\n      // Checking if the user is logged based on the global store\n      const isUserLogged = this.checkIfUserIsLogged();\n\n      if (isUserLogged) {\n        try {\n          // The response we get, should be type of 'Vacation' class\n          const response = await axios.get('http://localhost:3001/vacations/favorite_vacations'); // Here we are receiving all the vacations from the server, as a JSON\n\n          const favoriteVacations = response.data;\n          console.log(favoriteVacations);\n          store.dispatch({\n            type: ActionType.GetFavoriteVacations,\n            payload: favoriteVacations\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n\n    this.state = {\n      favoriteVacations: new Array()\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"favoriteVacationsSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationsDisplaySection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"favoriteVacationsSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headerContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, this.state.favoriteVacations.length > 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"favoritesHeader sharp-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, \"Your \", this.state.favoriteVacations.length, \" Favorite Vacations\", /*#__PURE__*/React.createElement(\"img\", {\n      className: \"poundingHeartAnimation\",\n      src: poundingHeartAnimation,\n      alt: \"Followed GIF\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    })) : /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"favoritesHeader sharp-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }, \"No Favorite Vacations Yet\", /*#__PURE__*/React.createElement(\"img\", {\n      className: \"poundingHeartAnimation\",\n      src: poundingHeartAnimation,\n      alt: \"Followed GIF\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"colorfulAstroidImg\",\n      src: colorfulAstroid,\n      alt: \"Colorful Astroid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"favoriteVacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noFavoriteVacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, this.state.favoriteVacations.length === 0 && /*#__PURE__*/React.createElement(\"img\", {\n      className: \"noVacationsIMG\",\n      src: noVacations,\n      alt: \"No Favorite Vacations Found\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 37\n      }\n    })), this.state.favoriteVacations.map((vacation, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCardContainer\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"vacationCardImg\",\n      src: vacation.Image_URL,\n      alt: vacation.Vacation_Description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"topVacationCardSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"dislike\",\n      src: FullHeart,\n      alt: \"Like Button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"followersText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 45\n      }\n    }, vacation.Followers_Count)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationInfoCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"resortName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 45\n      }\n    }, vacation.Vacation_Description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationDates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 49\n      }\n    }, vacation.Start_Date), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 49\n      }\n    }, \" - \"), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 49\n      }\n    }, vacation.End_Date)), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 45\n      }\n    }, vacation.Vacation_Price, \" $\")))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/vacations/src/components/favoriteVacations/FavoriteVacations.tsx"],"names":["React","Component","FullHeart","axios","store","ActionType","colorfulAstroid","noVacations","FavoriteVacations","constructor","props","unSubscribeStore","componentWillUnmount","componentDidMount","handleInterceptor","subscribe","setState","favoriteVacations","getState","length","getFavoriteVacationsFromServer","checkIfUserIsLogged","userData","JSON","parse","sessionStorage","getItem","token","undefined","defaults","headers","common","brearerToken","isUserLogged","response","get","data","console","log","dispatch","type","GetFavoriteVacations","payload","error","state","Array","render","poundingHeartAnimation","map","vacation","index","Image_URL","Vacation_Description","Followers_Count","Start_Date","End_Date","Vacation_Price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport poundingHeartAnimation from '../../assets/poundingHeart.svg';\r\nimport FullHeart from '../../assets/likeImg.png';\r\nimport axios from 'axios';\r\nimport Vacation from '../../models/Vacation';\r\nimport { store } from '../../Redux/Store';\r\nimport { Unsubscribe } from 'redux';\r\nimport { ActionType } from '../../Redux/ActionType';\r\nimport colorfulAstroid from '../../assets/wavyLine.png';\r\nimport noVacations from '../../assets/noVacations.png';\r\nimport './favoriteVacations.css';\r\n\r\n\r\ninterface VacationsState {\r\n    favoriteVacations : Vacation[];\r\n}\r\n\r\nexport default class FavoriteVacations extends Component <any, VacationsState> {\r\n    \r\n    private unSubscribeStore : Unsubscribe;\r\n\r\n    constructor(props : any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            favoriteVacations : new Array <Vacation> ()\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        // Unsubscribing the store's listener right before the component will unmount\r\n        // In order to make a small space optimization\r\n        this.unSubscribeStore();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n\r\n        // Explanation -> The interceptor is a just JS variable (from axios library). On refresh = it resets.\r\n        // So, this function takes the token the user got from the server (which is now inside the sessionStorage),\r\n        // and assign it to the interceptor\r\n        this.handleInterceptor();\r\n\r\n\r\n        // Optimizing a bit the memory leak of the store listener\r\n        // Also subscribes automatically to the store\r\n        this.unSubscribeStore = store.subscribe(\r\n            () => this.setState ({\r\n                favoriteVacations: store.getState().favoriteVacations\r\n            })\r\n        );\r\n\r\n        if (store.getState().favoriteVacations.length === 0) {\r\n            this.getFavoriteVacationsFromServer();\r\n        }\r\n\r\n        else {\r\n            this.setState ({\r\n                favoriteVacations: store.getState().favoriteVacations\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    private checkIfUserIsLogged = () => {\r\n\r\n        let userData = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n\r\n        // Checking if the user has a correct sessionStorage JSON\r\n        if (userData !== null) {\r\n\r\n            // Checking if the user has a token\r\n            if (userData.token !== undefined) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private handleInterceptor = () => {\r\n\r\n        // Explanation -> The interceptor is a just JS variable (from axios library). On refresh = it resets.\r\n        // So, this function takes the token the user got from the server (which is now inside the sessionStorage),\r\n        // and assign it to the interceptor\r\n\r\n        // Checking if the interceptor is empty\r\n        if (axios.defaults.headers.common['Authorization'] === undefined) {\r\n\r\n            let userData = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n\r\n            // Checking if the user has a correct sessionStorage JSON\r\n            if (userData !== null) {\r\n\r\n                // Checking if the user has a token\r\n                if (userData.token !== undefined) {\r\n\r\n                    let brearerToken = \"Bearer \" + userData.token;\r\n                    axios.defaults.headers.common['Authorization'] = brearerToken;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private getFavoriteVacationsFromServer = async () => {\r\n        \r\n        // Checking if the user is logged based on the global store\r\n        const isUserLogged = this.checkIfUserIsLogged();\r\n\r\n        if (isUserLogged) {\r\n            try {\r\n                // The response we get, should be type of 'Vacation' class\r\n                const response = await axios.get<Vacation[]>('http://localhost:3001/vacations/favorite_vacations');\r\n                \r\n                // Here we are receiving all the vacations from the server, as a JSON\r\n                const favoriteVacations : Vacation[] = response.data;\r\n                console.log(favoriteVacations);\r\n                \r\n    \r\n                store.dispatch({\r\n                    type: ActionType.GetFavoriteVacations,\r\n                    payload: favoriteVacations\r\n                });\r\n            }\r\n    \r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"favoriteVacationsSection\">\r\n\r\n                {/* ---------- Displayed Vacations Section ---------- */}\r\n\r\n                <div className=\"vacationsDisplaySection\">\r\n\r\n                    {/* ---------- Favorite Vacations Section ---------- */}\r\n\r\n                    <div className=\"favoriteVacationsSection\">\r\n                        <div className=\"headerContainer\">\r\n\r\n                            {this.state.favoriteVacations.length > 0 ?\r\n\r\n                                <h3 className=\"favoritesHeader sharp-text\">Your {this.state.favoriteVacations.length} Favorite Vacations\r\n                                    <img className=\"poundingHeartAnimation\" src={poundingHeartAnimation} alt=\"Followed GIF\"/>\r\n                                </h3>\r\n                                :\r\n\r\n                                <h3 className=\"favoritesHeader sharp-text\">No Favorite Vacations Yet\r\n                                    <img className=\"poundingHeartAnimation\" src={poundingHeartAnimation} alt=\"Followed GIF\"/>\r\n                                </h3>\r\n                            }\r\n\r\n                            <img className=\"colorfulAstroidImg\" src={colorfulAstroid} alt=\"Colorful Astroid\"/>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"favoriteVacations\">\r\n\r\n                            {/* ---------- Favorite Vacations Cards ---------- */}\r\n\r\n                            {/* Indicating the user that he does not have any favorite vacations */}\r\n                            <div className=\"noFavoriteVacations\">\r\n                                {\r\n                                    this.state.favoriteVacations.length === 0\r\n                                    &&\r\n                                    <img className=\"noVacationsIMG\" src={noVacations} alt=\"No Favorite Vacations Found\"></img>\r\n                                }\r\n                            </div>\r\n\r\n\r\n                            {this.state.favoriteVacations.map( (vacation : Vacation, index : number) => \r\n                                <div className=\"vacationCardContainer\" key={index}>\r\n                                    <img className=\"vacationCardImg\" src={vacation.Image_URL} alt={vacation.Vacation_Description}/>\r\n    \r\n                                    <div className=\"vacationCard\">\r\n                                        <div className=\"topVacationCardSection\">\r\n                                            <img className=\"dislike\" src={FullHeart} alt=\"Like Button\"/>\r\n                                            <p className=\"followersText\">{vacation.Followers_Count}</p>\r\n                                        </div>\r\n    \r\n                                        <div className=\"vacationInfoCard\">\r\n                                            <h4 className=\"resortName\">{vacation.Vacation_Description}</h4>\r\n    \r\n                                            <div className=\"vacationDates\">\r\n                                                <h4 className=\"vacationDate\">{vacation.Start_Date}</h4>\r\n                                                <span> - </span>\r\n                                                <h4 className=\"vacationDate\">{vacation.End_Date}</h4>\r\n                                            </div>\r\n    \r\n                                            <h4 className=\"vacationPrice\">{vacation.Vacation_Price} $</h4>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}