{"ast":null,"code":"import { ActionType } from \"./ActionType\";\n// --------------- This is the reducer (acts like a state machine) --------------- //\nexport default function reduce(oldAppState, action) {\n  // Copying the old app state, in order to modify it, based on the action\n  const newAppState = { ...oldAppState\n  };\n\n  switch (action.type) {\n    case ActionType.GetAllVacations:\n      newAppState.allVacations = [...action.payload];\n      break;\n\n    case ActionType.SetFollowedVacation:\n      newAppState.favoriteVacations.push(action.payload);\n      break;\n\n    case ActionType.GetFavoriteVacations:\n      newAppState.favoriteVacations = [...action.payload];\n      break;\n\n    case ActionType.UnfollowVacation:\n      newAppState.favoriteVacations.splice(action.payload, 1);\n      break;\n\n    case ActionType.ConnectToSocket:\n      newAppState.socket = action.payload;\n      break;\n\n    case ActionType.AddVacation:\n      newAppState.allVacations.push(action.payload);\n      break;\n\n    case ActionType.UpdateVacation:\n      newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore] = action.payload.convertedValidDataForUIDisplay;\n      break;\n\n    case ActionType.UpdateFavoriteVacation:\n      newAppState.favoriteVacations[action.payload.indexOfClickedFavoriteVacationInGlobalStore] = action.payload.convertedValidDataForUIDisplay;\n      break;\n\n    case ActionType.DeleteVacationViaSocketIO:\n      newAppState.allVacations.splice(action.payload, 1);\n      break;\n\n    case ActionType.DeleteFavoriteVacationViaSocketIO:\n      newAppState.favoriteVacations.splice(action.payload, 1);\n      break;\n\n    case ActionType.IncreaseVacationFollowersCount:\n      newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\n      break;\n\n    case ActionType.IncreaseFavoriteVacationFollowersCount:\n      newAppState.favoriteVacations[action.payload.indexOfFavoriteClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\n      break;\n\n    case ActionType.DecreaseVacationFollowersCount:\n      newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\n      break;\n\n    case ActionType.DecreaseFavoriteVacationFollowersCount:\n      newAppState.favoriteVacations[action.payload.indexOfFavoriteClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\n      break;\n\n    case ActionType.DeleteVacation:\n      newAppState.allVacations.splice(action.payload, 1);\n      break;\n\n    case ActionType.OnUserLogout:\n      // Clearing the user's favorite vacations on logout\n      newAppState.favoriteVacations = new Array();\n      break;\n  }\n\n  return newAppState;\n}","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/client/src/Redux/Reducer.ts"],"names":["ActionType","reduce","oldAppState","action","newAppState","type","GetAllVacations","allVacations","payload","SetFollowedVacation","favoriteVacations","push","GetFavoriteVacations","UnfollowVacation","splice","ConnectToSocket","socket","AddVacation","UpdateVacation","indexOfClickedVacationInGlobalStore","convertedValidDataForUIDisplay","UpdateFavoriteVacation","indexOfClickedFavoriteVacationInGlobalStore","DeleteVacationViaSocketIO","DeleteFavoriteVacationViaSocketIO","IncreaseVacationFollowersCount","followersCount","newFollowersCount","IncreaseFavoriteVacationFollowersCount","indexOfFavoriteClickedVacationInGlobalStore","DecreaseVacationFollowersCount","DecreaseFavoriteVacationFollowersCount","DeleteVacation","OnUserLogout","Array"],"mappings":"AAEA,SAASA,UAAT,QAA2B,cAA3B;AAIA;AAEA,eAAe,SAASC,MAAT,CAAiBC,WAAjB,EAAyCC,MAAzC,EAAoE;AAE/E;AACA,QAAMC,WAAW,GAAG,EAAC,GAAGF;AAAJ,GAApB;;AAEA,UAAQC,MAAM,CAACE,IAAf;AACI,SAAKL,UAAU,CAACM,eAAhB;AACIF,MAAAA,WAAW,CAACG,YAAZ,GAA2B,CAAC,GAAGJ,MAAM,CAACK,OAAX,CAA3B;AACA;;AAEJ,SAAKR,UAAU,CAACS,mBAAhB;AACIL,MAAAA,WAAW,CAACM,iBAAZ,CAA8BC,IAA9B,CAAmCR,MAAM,CAACK,OAA1C;AACA;;AAEJ,SAAKR,UAAU,CAACY,oBAAhB;AACIR,MAAAA,WAAW,CAACM,iBAAZ,GAAgC,CAAC,GAAGP,MAAM,CAACK,OAAX,CAAhC;AACA;;AAEJ,SAAKR,UAAU,CAACa,gBAAhB;AACIT,MAAAA,WAAW,CAACM,iBAAZ,CAA8BI,MAA9B,CAAqCX,MAAM,CAACK,OAA5C,EAAqD,CAArD;AACA;;AAEJ,SAAKR,UAAU,CAACe,eAAhB;AACIX,MAAAA,WAAW,CAACY,MAAZ,GAAqBb,MAAM,CAACK,OAA5B;AACA;;AAEJ,SAAKR,UAAU,CAACiB,WAAhB;AACIb,MAAAA,WAAW,CAACG,YAAZ,CAAyBI,IAAzB,CAA8BR,MAAM,CAACK,OAArC;AACA;;AAEJ,SAAKR,UAAU,CAACkB,cAAhB;AACId,MAAAA,WAAW,CAACG,YAAZ,CAAyBJ,MAAM,CAACK,OAAP,CAAeW,mCAAxC,IAA+EhB,MAAM,CAACK,OAAP,CAAeY,8BAA9F;AACA;;AAEJ,SAAKpB,UAAU,CAACqB,sBAAhB;AACIjB,MAAAA,WAAW,CAACM,iBAAZ,CAA8BP,MAAM,CAACK,OAAP,CAAec,2CAA7C,IAA4FnB,MAAM,CAACK,OAAP,CAAeY,8BAA3G;AACA;;AAEJ,SAAKpB,UAAU,CAACuB,yBAAhB;AACInB,MAAAA,WAAW,CAACG,YAAZ,CAAyBO,MAAzB,CAAgCX,MAAM,CAACK,OAAvC,EAAgD,CAAhD;AACA;;AAEJ,SAAKR,UAAU,CAACwB,iCAAhB;AACIpB,MAAAA,WAAW,CAACM,iBAAZ,CAA8BI,MAA9B,CAAqCX,MAAM,CAACK,OAA5C,EAAqD,CAArD;AACA;;AAEJ,SAAKR,UAAU,CAACyB,8BAAhB;AACIrB,MAAAA,WAAW,CAACG,YAAZ,CAAyBJ,MAAM,CAACK,OAAP,CAAeW,mCAAxC,EAA6EO,cAA7E,GAA8FvB,MAAM,CAACK,OAAP,CAAemB,iBAA7G;AACA;;AAEJ,SAAK3B,UAAU,CAAC4B,sCAAhB;AACIxB,MAAAA,WAAW,CAACM,iBAAZ,CAA8BP,MAAM,CAACK,OAAP,CAAeqB,2CAA7C,EAA0FH,cAA1F,GAA2GvB,MAAM,CAACK,OAAP,CAAemB,iBAA1H;AACA;;AAEJ,SAAK3B,UAAU,CAAC8B,8BAAhB;AACI1B,MAAAA,WAAW,CAACG,YAAZ,CAAyBJ,MAAM,CAACK,OAAP,CAAeW,mCAAxC,EAA6EO,cAA7E,GAA8FvB,MAAM,CAACK,OAAP,CAAemB,iBAA7G;AACA;;AAEJ,SAAK3B,UAAU,CAAC+B,sCAAhB;AACI3B,MAAAA,WAAW,CAACM,iBAAZ,CAA8BP,MAAM,CAACK,OAAP,CAAeqB,2CAA7C,EAA0FH,cAA1F,GAA2GvB,MAAM,CAACK,OAAP,CAAemB,iBAA1H;AACA;;AAEJ,SAAK3B,UAAU,CAACgC,cAAhB;AACI5B,MAAAA,WAAW,CAACG,YAAZ,CAAyBO,MAAzB,CAAgCX,MAAM,CAACK,OAAvC,EAAgD,CAAhD;AACA;;AAEJ,SAAKR,UAAU,CAACiC,YAAhB;AACI;AACA7B,MAAAA,WAAW,CAACM,iBAAZ,GAAgC,IAAIwB,KAAJ,EAAhC;AACA;AAhER;;AAmEA,SAAO9B,WAAP;AACH","sourcesContent":["import AppState from \"./AppState\";\r\nimport Action from \"./Action\";\r\nimport { ActionType } from \"./ActionType\";\r\nimport Vacation from \"../models/Vacation\";\r\n\r\n\r\n// --------------- This is the reducer (acts like a state machine) --------------- //\r\n\r\nexport default function reduce (oldAppState : AppState, action : Action): AppState {\r\n\r\n    // Copying the old app state, in order to modify it, based on the action\r\n    const newAppState = {...oldAppState};\r\n\r\n    switch (action.type) {\r\n        case ActionType.GetAllVacations:\r\n            newAppState.allVacations = [...action.payload];\r\n            break;\r\n\r\n        case ActionType.SetFollowedVacation:\r\n            newAppState.favoriteVacations.push(action.payload);\r\n            break;\r\n\r\n        case ActionType.GetFavoriteVacations:\r\n            newAppState.favoriteVacations = [...action.payload];\r\n            break;\r\n\r\n        case ActionType.UnfollowVacation:\r\n            newAppState.favoriteVacations.splice(action.payload, 1);\r\n            break;\r\n\r\n        case ActionType.ConnectToSocket:\r\n            newAppState.socket = action.payload;\r\n            break;\r\n\r\n        case ActionType.AddVacation:\r\n            newAppState.allVacations.push(action.payload);\r\n            break;\r\n\r\n        case ActionType.UpdateVacation:\r\n            newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore] = action.payload.convertedValidDataForUIDisplay;\r\n            break;\r\n        \r\n        case ActionType.UpdateFavoriteVacation:\r\n            newAppState.favoriteVacations[action.payload.indexOfClickedFavoriteVacationInGlobalStore] = action.payload.convertedValidDataForUIDisplay;\r\n            break;\r\n\r\n        case ActionType.DeleteVacationViaSocketIO:\r\n            newAppState.allVacations.splice(action.payload, 1);\r\n            break;\r\n\r\n        case ActionType.DeleteFavoriteVacationViaSocketIO:\r\n            newAppState.favoriteVacations.splice(action.payload, 1);\r\n            break;\r\n\r\n        case ActionType.IncreaseVacationFollowersCount:\r\n            newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\r\n            break;\r\n\r\n        case ActionType.IncreaseFavoriteVacationFollowersCount:\r\n            newAppState.favoriteVacations[action.payload.indexOfFavoriteClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\r\n            break;\r\n\r\n        case ActionType.DecreaseVacationFollowersCount:\r\n            newAppState.allVacations[action.payload.indexOfClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\r\n            break;\r\n\r\n        case ActionType.DecreaseFavoriteVacationFollowersCount:\r\n            newAppState.favoriteVacations[action.payload.indexOfFavoriteClickedVacationInGlobalStore].followersCount = action.payload.newFollowersCount;\r\n            break;\r\n\r\n        case ActionType.DeleteVacation:\r\n            newAppState.allVacations.splice(action.payload, 1);\r\n            break;\r\n\r\n        case ActionType.OnUserLogout:\r\n            // Clearing the user's favorite vacations on logout\r\n            newAppState.favoriteVacations = new Array <Vacation> ();\r\n            break;\r\n    }\r\n\r\n    return newAppState;\r\n}"]},"metadata":{},"sourceType":"module"}