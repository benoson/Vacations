{"ast":null,"code":"// -------------------- This Model Retrieves The User's Type From The sessionStorage And Returns It -------------------- //\n// Explanation -> This Model is just the FIRST layer of valdiation in the clientside. This Model does not determine whether the user is an admin or not.\n// The real valdiation happens on the server, with the user's cache that is saved in the server.\n// This client validation is the first layer of 2 layers, that are meant to speed up proccess and for a better UX -> The goal is not to send any\n// request to the server if it is not absolutely necessary.\nimport axios from 'axios';\nexport const getUserTypeFromServerCache = async () => {\n  try {\n    const serverResponse = await axios.post(`http://localhost:3001/users/type$`);\n    const userTypeFromServer = serverResponse.data;\n    return userTypeFromServer;\n  } catch (error) {\n    alert(error);\n    return;\n  } // let userInfo = JSON.parse(sessionStorage.getItem('userInfo'));\n  // if (userInfo !== null) {\n  //     if (userInfo.userType !== undefined) {\n  //         return userInfo.userType;\n  //     }\n  // }\n\n};","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/client/src/models/GetUserTypeFromServer.ts"],"names":["axios","getUserTypeFromServerCache","serverResponse","post","userTypeFromServer","data","error","alert"],"mappings":"AACA;AAEA;AACA;AACA;AACA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,0BAA+B,GAAG,YAAY;AAEvD,MAAI;AAEA,UAAMC,cAAc,GAAG,MAAMF,KAAK,CAACG,IAAN,CAAY,mCAAZ,CAA7B;AACA,UAAMC,kBAA0B,GAAGF,cAAc,CAACG,IAAlD;AAEA,WAAOD,kBAAP;AACH,GAND,CAQA,OAAOE,KAAP,EAAc;AACVC,IAAAA,KAAK,CAACD,KAAD,CAAL;AACA;AACH,GAbsD,CAevD;AAEA;AAEA;AAEA;AACA;AACA;;AACH,CAxBM","sourcesContent":["\r\n// -------------------- This Model Retrieves The User's Type From The sessionStorage And Returns It -------------------- //\r\n\r\n// Explanation -> This Model is just the FIRST layer of valdiation in the clientside. This Model does not determine whether the user is an admin or not.\r\n// The real valdiation happens on the server, with the user's cache that is saved in the server.\r\n// This client validation is the first layer of 2 layers, that are meant to speed up proccess and for a better UX -> The goal is not to send any\r\n// request to the server if it is not absolutely necessary.\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nexport const getUserTypeFromServerCache :any = async () => {\r\n\r\n    try {\r\n\r\n        const serverResponse = await axios.post(`http://localhost:3001/users/type$`);\r\n        const userTypeFromServer: string = serverResponse.data;\r\n\r\n        return userTypeFromServer;\r\n    }\r\n\r\n    catch (error) {\r\n        alert(error);\r\n        return;\r\n    }\r\n\r\n    // let userInfo = JSON.parse(sessionStorage.getItem('userInfo'));\r\n\r\n    // if (userInfo !== null) {\r\n\r\n    //     if (userInfo.userType !== undefined) {\r\n            \r\n    //         return userInfo.userType;\r\n    //     }\r\n    // }\r\n}"]},"metadata":{},"sourceType":"module"}