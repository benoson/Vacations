{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ben\\\\Desktop\\\\John Bryce\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8\\u05D9\\u05DD\\\\project3 - Vacations\\\\vacations\\\\src\\\\components\\\\allVacations\\\\AllVacations.tsx\";\nimport React, { Component } from 'react';\nimport LocationImage from '../../assets/locationImage.png';\nimport { store } from '../../Redux/Store';\nimport axios from 'axios';\nimport './allVacations.css';\nimport { ActionType } from '../../Redux/ActionType';\nexport default class AllVacations extends Component {\n  constructor(props) {\n    super(props);\n    this.unSubscribeStore = void 0;\n\n    this.componentWillUnmount = () => {// Unsubscribing the store's listener right before the component will unmount\n      // In order to make a small space optimization\n      // this.unSubscribeStore();\n    };\n\n    this.componentDidMount = () => {\n      // Optimizing a bit the memory leak of the store listener\n      // Also subscribes automatically to the store\n      this.unSubscribeStore = store.subscribe(() => this.setState({\n        allVacations: store.getState().allVacations\n      }));\n\n      if (store.getState().allVacations.length === 0) {\n        this.getAllVacationsFromServer();\n      } else {\n        this.setState({\n          allVacations: store.getState().allVacations\n        });\n      }\n    };\n\n    this.getAllVacationsFromServer = async () => {\n      try {\n        // The response we get, should be type of 'Vacation' class\n        const response = await axios.get('http://localhost:3001/vacations/all_vacations'); // Here we are receiving all the vacations from the server, as a JSON\n\n        const allVacations = response.data;\n        store.dispatch({\n          type: ActionType.GetAllVacations,\n          payload: allVacations\n        });\n      } catch (error) {\n        // alert(error.message);\n        console.log(error);\n      }\n    };\n\n    this.onVacationFollowClick = async clickedVacation => {\n      try {\n        let clickedVacationID = clickedVacation.Vacation_ID;\n        await axios.post('http://localhost:3001/vacations/vacation_follow', {\n          clickedVacationID\n        });\n        store.dispatch({\n          type: ActionType.SetFollowedVacation,\n          payload: clickedVacation\n        });\n      } catch (error) {\n        alert(error.message);\n        console.log(error);\n      }\n    };\n\n    this.state = {\n      allVacations: new Array()\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allVacationsSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"allVacationsHeader sharp-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, \"All \", this.state.allVacations.length, \" Vacations We've Got For You\", /*#__PURE__*/React.createElement(\"img\", {\n      className: \"locationImage\",\n      src: LocationImage,\n      alt: \"All Vacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allVacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, this.state.allVacations.map((vacation, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCardContainer\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"vacationCardImg\",\n      src: vacation.Image_URL,\n      alt: vacation.Vacation_Description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"topVacationCardSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      id: \"heart-svg\",\n      viewBox: \"467 392 58 57\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      id: \"Group\",\n      fill: \"none\",\n      \"fill-rule\": \"evenodd\",\n      transform: \"translate(467 392)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143                          43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\",\n      id: \"heart\",\n      fill: \"#AAB8C2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"main-circ\",\n      fill: \"#E2264D\",\n      opacity: \"0\",\n      cx: \"29.5\",\n      cy: \"29.5\",\n      r: \"1.5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp7\",\n      opacity: \"0\",\n      transform: \"translate(7 6)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#9CD8C3\",\n      cx: \"2\",\n      cy: \"6\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#8CE8C3\",\n      cx: \"5\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp6\",\n      opacity: \"0\",\n      transform: \"translate(0 28)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#CC8EF5\",\n      cx: \"2\",\n      cy: \"7\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#91D2FA\",\n      cx: \"3\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp3\",\n      opacity: \"0\",\n      transform: \"translate(52 28)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#9CD8C3\",\n      cx: \"2\",\n      cy: \"7\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#8CE8C3\",\n      cx: \"4\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp2\",\n      opacity: \"0\",\n      transform: \"translate(44 6)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#CC8EF5\",\n      cx: \"5\",\n      cy: \"6\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#CC8EF5\",\n      cx: \"2\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp5\",\n      opacity: \"0\",\n      transform: \"translate(14 50)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#91D2FA\",\n      cx: \"6\",\n      cy: \"5\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#91D2FA\",\n      cx: \"2\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp4\",\n      opacity: \"0\",\n      transform: \"translate(35 50)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#F48EA7\",\n      cx: \"6\",\n      cy: \"5\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#F48EA7\",\n      cx: \"2\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      id: \"grp1\",\n      opacity: \"0\",\n      transform: \"translate(24)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval1\",\n      fill: \"#9FC7FA\",\n      cx: \"2.5\",\n      cy: \"3\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      id: \"oval2\",\n      fill: \"#9FC7FA\",\n      cx: \"7.5\",\n      cy: \"2\",\n      r: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 41\n      }\n    }, \"Click me !\"), /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"http://robeen.io\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }, \"http://robeen.io\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"followersText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 37\n      }\n    }, vacation.Followers_Count)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationInfoCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"resortName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }\n    }, vacation.Vacation_Description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationDates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 41\n      }\n    }, vacation.Start_Date), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 41\n      }\n    }, \" - \"), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 41\n      }\n    }, vacation.End_Date)), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 37\n      }\n    }, vacation.Vacation_Price, \" $\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/vacations/src/components/allVacations/AllVacations.tsx"],"names":["React","Component","LocationImage","store","axios","ActionType","AllVacations","constructor","props","unSubscribeStore","componentWillUnmount","componentDidMount","subscribe","setState","allVacations","getState","length","getAllVacationsFromServer","response","get","data","dispatch","type","GetAllVacations","payload","error","console","log","onVacationFollowClick","clickedVacation","clickedVacationID","Vacation_ID","post","SetFollowedVacation","alert","message","state","Array","render","map","vacation","index","Image_URL","Vacation_Description","Followers_Count","Start_Date","End_Date","Vacation_Price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport LocationImage from '../../assets/locationImage.png';\r\nimport Vacation from '../../models/Vacation';\r\nimport EmptyHeart from '../../assets/emptyHeart.png';\r\nimport { store } from '../../Redux/Store';\r\nimport axios from 'axios';\r\nimport './allVacations.css';\r\nimport { ActionType } from '../../Redux/ActionType';\r\nimport { Unsubscribe } from 'redux';\r\n\r\n\r\ninterface allVacationsState {\r\n    allVacations : Vacation[];\r\n}\r\n\r\nexport default class AllVacations extends Component <any, allVacationsState> {\r\n\r\n    private unSubscribeStore : Unsubscribe;\r\n\r\n    constructor(props : any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            allVacations : new Array <Vacation> ()\r\n        }\r\n    }\r\n\r\n\r\n    componentWillUnmount = () => {\r\n\r\n        // Unsubscribing the store's listener right before the component will unmount\r\n        // In order to make a small space optimization\r\n        // this.unSubscribeStore();\r\n    }\r\n\r\n\r\n    componentDidMount = () => {\r\n\r\n        // Optimizing a bit the memory leak of the store listener\r\n        // Also subscribes automatically to the store\r\n        this.unSubscribeStore = store.subscribe(\r\n            () => this.setState ({\r\n                allVacations: store.getState().allVacations\r\n            })\r\n        );\r\n\r\n        if (store.getState().allVacations.length === 0) {\r\n            this.getAllVacationsFromServer();\r\n        }\r\n\r\n        else {\r\n            this.setState ({\r\n                allVacations: store.getState().allVacations\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    private getAllVacationsFromServer = async () => {\r\n        \r\n        try {\r\n            // The response we get, should be type of 'Vacation' class\r\n            const response = await axios.get<Vacation[]>('http://localhost:3001/vacations/all_vacations');\r\n\r\n            // Here we are receiving all the vacations from the server, as a JSON\r\n            const allVacations : Vacation[] = response.data;\r\n\r\n            store.dispatch({\r\n                type: ActionType.GetAllVacations,\r\n                payload: allVacations\r\n            });\r\n        }\r\n\r\n        catch (error) {\r\n            // alert(error.message);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n    private onVacationFollowClick = async (clickedVacation : Vacation) => {\r\n\r\n        try {\r\n\r\n            let clickedVacationID : number = clickedVacation.Vacation_ID;\r\n\r\n            await axios.post('http://localhost:3001/vacations/vacation_follow', {clickedVacationID});\r\n\r\n            store.dispatch({type: ActionType.SetFollowedVacation, payload: clickedVacation});\r\n        }\r\n\r\n        catch (error) {\r\n            alert(error.message);\r\n            console.log(error);\r\n        }\r\n    }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"allVacationsSection\">\r\n\r\n                {/* ---------- All Vacations Section Header ---------- */}\r\n\r\n                <h3 className=\"allVacationsHeader sharp-text\">All {this.state.allVacations.length} Vacations We've Got For You\r\n                    <img className=\"locationImage\" src={LocationImage} alt=\"All Vacations\"/>\r\n                </h3>\r\n            \r\n\r\n                <div className=\"allVacations\">\r\n\r\n                    {/* ---------- All Vacations Cards ---------- */}\r\n\r\n                    {this.state.allVacations.map( (vacation : Vacation, index : number) => \r\n                        <div className=\"vacationCardContainer\" key={index}>\r\n                            <img className=\"vacationCardImg\" src={vacation.Image_URL} alt={vacation.Vacation_Description}/>\r\n\r\n                            <div className=\"vacationCard\">\r\n                                <div className=\"topVacationCardSection\">\r\n                                    <div>\r\n                                        <input type=\"checkbox\" id=\"checkbox\" />\r\n                                        <label for=\"checkbox\">\r\n                                        <svg id=\"heart-svg\" viewBox=\"467 392 58 57\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <g id=\"Group\" fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(467 392)\">\r\n                                            <path d=\"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143                          43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\"                  id=\"heart\" fill=\"#AAB8C2\"/>\r\n                                            <circle id=\"main-circ\" fill=\"#E2264D\" opacity=\"0\" cx=\"29.5\" cy=\"29.5\" r=\"1.5\"/>\r\n\r\n                                            <g id=\"grp7\" opacity=\"0\" transform=\"translate(7 6)\">\r\n                                                <circle id=\"oval1\" fill=\"#9CD8C3\" cx=\"2\" cy=\"6\" r=\"2\"/>\r\n                                                <circle id=\"oval2\" fill=\"#8CE8C3\" cx=\"5\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp6\" opacity=\"0\" transform=\"translate(0 28)\">\r\n                                                <circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"7\" r=\"2\"/>\r\n                                                <circle id=\"oval2\" fill=\"#91D2FA\" cx=\"3\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp3\" opacity=\"0\" transform=\"translate(52 28)\">\r\n                                                <circle id=\"oval2\" fill=\"#9CD8C3\" cx=\"2\" cy=\"7\" r=\"2\"/>\r\n                                                <circle id=\"oval1\" fill=\"#8CE8C3\" cx=\"4\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp2\" opacity=\"0\" transform=\"translate(44 6)\">\r\n                                                <circle id=\"oval2\" fill=\"#CC8EF5\" cx=\"5\" cy=\"6\" r=\"2\"/>\r\n                                                <circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp5\" opacity=\"0\" transform=\"translate(14 50)\">\r\n                                                <circle id=\"oval1\" fill=\"#91D2FA\" cx=\"6\" cy=\"5\" r=\"2\"/>\r\n                                                <circle id=\"oval2\" fill=\"#91D2FA\" cx=\"2\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp4\" opacity=\"0\" transform=\"translate(35 50)\">\r\n                                                <circle id=\"oval1\" fill=\"#F48EA7\" cx=\"6\" cy=\"5\" r=\"2\"/>\r\n                                                <circle id=\"oval2\" fill=\"#F48EA7\" cx=\"2\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n\r\n                                            <g id=\"grp1\" opacity=\"0\" transform=\"translate(24)\">\r\n                                                <circle id=\"oval1\" fill=\"#9FC7FA\" cx=\"2.5\" cy=\"3\" r=\"2\"/>\r\n                                                <circle id=\"oval2\" fill=\"#9FC7FA\" cx=\"7.5\" cy=\"2\" r=\"2\"/>\r\n                                            </g>\r\n                                            </g>\r\n                                        </svg>\r\n                                        </label>\r\n\r\n                                        <h1>Click me !</h1>\r\n\r\n                                        <a target=\"_blank\" href=\"http://robeen.io\">http://robeen.io</a>\r\n                                    </div>\r\n                                    {/* <img className=\"heartIcon\" src={EmptyHeart} onClick={() => {this.onVacationFollowClick(vacation)}} alt=\"Like Button\"/> */}\r\n                                    <p className=\"followersText\">{vacation.Followers_Count}</p>\r\n                                </div>\r\n\r\n                                <div className=\"vacationInfoCard\">\r\n                                    <h4 className=\"resortName\">{vacation.Vacation_Description}</h4>\r\n\r\n                                    <div className=\"vacationDates\">\r\n                                        <h4 className=\"vacationDate\">{vacation.Start_Date}</h4>\r\n                                        <span> - </span>\r\n                                        <h4 className=\"vacationDate\">{vacation.End_Date}</h4>\r\n                                    </div>\r\n\r\n                                    <h4 className=\"vacationPrice\">{vacation.Vacation_Price} $</h4>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}