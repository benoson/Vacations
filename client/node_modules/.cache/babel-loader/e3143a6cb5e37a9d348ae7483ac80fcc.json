{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ben\\\\Desktop\\\\John Bryce\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8\\u05D9\\u05DD\\\\project3 - Vacations\\\\vacations\\\\src\\\\components\\\\allVacations\\\\AllVacations.tsx\";\nimport React, { Component } from 'react';\nimport LocationImage from '../../assets/locationImage.png';\nimport EmptyHeart from '../../assets/emptyHeart.png';\nimport { store } from '../../Redux/Store';\nimport axios from 'axios';\nimport './allVacations.css';\nexport default class AllVacations extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.setState({\n        allVacations: store.getState().allVacations\n      });\n    };\n\n    this.onVacationFollowClick = async clickedVacation => {\n      try {\n        let clickedVacationID = clickedVacation.Vacation_ID; // The response we get, should be type of 'SuccessfulLoginServerResponse' class (token & user type)\n\n        const response = await axios.post('http://localhost:3001/vacations/followed_vacations', userLoginDetails); // Here we are receiving the token & user type from the data we got back from the server\n\n        const serverResponseData = response.data;\n        console.log(serverResponseData); // Attaching the Token we received from the server, to every HTTP request we'll send from now on\n        // This is our 'Interceptor'\n\n        axios.defaults.headers.common['Authorization'] = serverResponseData.token;\n        this.handleNavigationAccordingToUserType(serverResponseData);\n      } catch (error) {\n        alert(error.message);\n        console.log(error);\n      }\n    };\n\n    this.state = {\n      allVacations: new Array()\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allVacationsSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"allVacationsHeader sharp-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, \"All \", this.state.allVacations.length, \" Vacations We've Got For You\", /*#__PURE__*/React.createElement(\"img\", {\n      className: \"locationImage\",\n      src: LocationImage,\n      alt: \"All Vacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allVacations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, this.state.allVacations.map((vacation, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCardContainer\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"vacationCardImg\",\n      src: vacation.Image_URL,\n      alt: vacation.Vacation_Description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"topVacationCardSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"heartIcon\",\n      src: EmptyHeart,\n      onClick: () => {\n        this.onVacationFollowClick;\n      },\n      alt: \"Like Button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"followersText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, vacation.Followers_Count)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationInfoCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"resortName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, vacation.Vacation_Description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vacationDates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }\n    }, vacation.Start_Date), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, \" - \"), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, vacation.End_Date)), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"vacationPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, vacation.Vacation_Price, \" $\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/vacations/src/components/allVacations/AllVacations.tsx"],"names":["React","Component","LocationImage","EmptyHeart","store","axios","AllVacations","constructor","props","componentDidMount","setState","allVacations","getState","onVacationFollowClick","clickedVacation","clickedVacationID","Vacation_ID","response","post","userLoginDetails","serverResponseData","data","console","log","defaults","headers","common","token","handleNavigationAccordingToUserType","error","alert","message","state","Array","render","length","map","vacation","index","Image_URL","Vacation_Description","Followers_Count","Start_Date","End_Date","Vacation_Price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport LocationImage from '../../assets/locationImage.png';\r\nimport Vacation from '../../models/Vacation';\r\nimport EmptyHeart from '../../assets/emptyHeart.png';\r\nimport { store } from '../../Redux/Store';\r\nimport axios from 'axios';\r\nimport './allVacations.css';\r\n\r\n\r\ninterface allVacationsState {\r\n    allVacations : Vacation[];\r\n}\r\n\r\nexport default class AllVacations extends Component <any, allVacationsState> {\r\n\r\n    constructor(props : any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            allVacations : new Array <Vacation> ()\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n\r\n        this.setState({\r\n            allVacations: store.getState().allVacations\r\n        });\r\n    }\r\n\r\n\r\n    private onVacationFollowClick = async (clickedVacation : Vacation) => {\r\n\r\n        try {\r\n            let clickedVacationID : Number = clickedVacation.Vacation_ID;\r\n            \r\n            // The response we get, should be type of 'SuccessfulLoginServerResponse' class (token & user type)\r\n            const response = await axios.post('http://localhost:3001/vacations/followed_vacations', userLoginDetails);\r\n\r\n            // Here we are receiving the token & user type from the data we got back from the server\r\n            const serverResponseData = response.data;\r\n\r\n            console.log(serverResponseData);\r\n            \r\n\r\n            // Attaching the Token we received from the server, to every HTTP request we'll send from now on\r\n            // This is our 'Interceptor'\r\n            axios.defaults.headers.common['Authorization'] = serverResponseData.token;\r\n\r\n            this.handleNavigationAccordingToUserType(serverResponseData);\r\n        }\r\n\r\n        catch (error) {\r\n            alert(error.message);\r\n            console.log(error);\r\n        }\r\n    }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"allVacationsSection\">\r\n\r\n                {/* ---------- All Vacations Section Header ---------- */}\r\n\r\n                <h3 className=\"allVacationsHeader sharp-text\">All {this.state.allVacations.length} Vacations We've Got For You\r\n                    <img className=\"locationImage\" src={LocationImage} alt=\"All Vacations\"/>\r\n                </h3>\r\n            \r\n\r\n                <div className=\"allVacations\">\r\n\r\n                    {/* ---------- All Vacations Cards ---------- */}\r\n\r\n                    {this.state.allVacations.map( (vacation : Vacation, index : number) => \r\n                        <div className=\"vacationCardContainer\" key={index}>\r\n                            <img className=\"vacationCardImg\" src={vacation.Image_URL} alt={vacation.Vacation_Description}/>\r\n\r\n                            <div className=\"vacationCard\">\r\n                                <div className=\"topVacationCardSection\">\r\n                                    <img className=\"heartIcon\" src={EmptyHeart} onClick={() => {this.onVacationFollowClick}} alt=\"Like Button\"/>\r\n                                    <p className=\"followersText\">{vacation.Followers_Count}</p>\r\n                                </div>\r\n\r\n                                <div className=\"vacationInfoCard\">\r\n                                    <h4 className=\"resortName\">{vacation.Vacation_Description}</h4>\r\n\r\n                                    <div className=\"vacationDates\">\r\n                                        <h4 className=\"vacationDate\">{vacation.Start_Date}</h4>\r\n                                        <span> - </span>\r\n                                        <h4 className=\"vacationDate\">{vacation.End_Date}</h4>\r\n                                    </div>\r\n\r\n                                    <h4 className=\"vacationPrice\">{vacation.Vacation_Price} $</h4>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}