{"ast":null,"code":"import axios from 'axios'; // ---------- Attaching the user's token to the interceptor ---------- //\n\nconst attachTokenToInterceptor = token => {\n  // Attaching the Token we received from the server, to every HTTP request we'll send from now on\n  // This is the 'Interceptor'\n  let brearerToken = \"Bearer \" + token;\n  axios.defaults.headers.common['Authorization'] = brearerToken;\n};\n\nexport const successfulLoginHandler = loginServerResponse => {\n  // Attaching the Token we received from the server, to every HTTP request we'll send from now on\n  // This is our 'Interceptor'\n  attachTokenToInterceptor(loginServerResponse.token); // ---------- Inserting the user's info (Token & Type & UserName) to the sessionStorage ---------- //\n\n  let strUserInfo = JSON.stringify(loginServerResponse);\n  sessionStorage.setItem('userInfo', strUserInfo);\n};","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/client/src/models/SuccessfulLoginHandler.ts"],"names":["axios","attachTokenToInterceptor","token","brearerToken","defaults","headers","common","successfulLoginHandler","loginServerResponse","strUserInfo","JSON","stringify","sessionStorage","setItem"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CAIA;;AACA,MAAMC,wBAAwB,GAAIC,KAAD,IAAmB;AAEhD;AACA;AACA,MAAIC,YAAY,GAAG,YAAYD,KAA/B;AACAF,EAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,YAAjD;AACH,CAND;;AASA,OAAO,MAAMI,sBAAsB,GAAIC,mBAAD,IAAyD;AAE3F;AACA;AACAP,EAAAA,wBAAwB,CAACO,mBAAmB,CAACN,KAArB,CAAxB,CAJ2F,CAO3F;;AAEA,MAAIO,WAAW,GAAGC,IAAI,CAACC,SAAL,CAAeH,mBAAf,CAAlB;AACAI,EAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCJ,WAAnC;AACH,CAXM","sourcesContent":["import SuccessfulLoginServerResponse from './SuccessfulLoginServerResponse';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n// ---------- Attaching the user's token to the interceptor ---------- //\r\nconst attachTokenToInterceptor = (token: string) => {\r\n\r\n    // Attaching the Token we received from the server, to every HTTP request we'll send from now on\r\n    // This is the 'Interceptor'\r\n    let brearerToken = \"Bearer \" + token;\r\n    axios.defaults.headers.common['Authorization'] = brearerToken;\r\n}\r\n\r\n\r\nexport const successfulLoginHandler = (loginServerResponse : SuccessfulLoginServerResponse) => {\r\n\r\n    // Attaching the Token we received from the server, to every HTTP request we'll send from now on\r\n    // This is our 'Interceptor'\r\n    attachTokenToInterceptor(loginServerResponse.token);\r\n\r\n    \r\n    // ---------- Inserting the user's info (Token & Type & UserName) to the sessionStorage ---------- //\r\n\r\n    let strUserInfo = JSON.stringify(loginServerResponse);\r\n    sessionStorage.setItem('userInfo', strUserInfo);\r\n}"]},"metadata":{},"sourceType":"module"}