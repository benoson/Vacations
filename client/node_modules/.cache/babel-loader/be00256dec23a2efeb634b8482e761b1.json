{"ast":null,"code":"import { ActionType } from \"./ActionType\";\nimport { useHistory } from \"react-router-dom\";\nexport default function reduce(oldAppState, action) {\n  const newAppState = { ...oldAppState\n  };\n  const history = useHistory();\n\n  switch (action.type) {\n    case ActionType.GetAllVacations:\n      newAppState.allVacations = [...action.payload];\n      break;\n\n    case ActionType.SetFollowedVacation:\n      newAppState.favoriteVacations.push(action.payload);\n      break;\n\n    case ActionType.GetFavoriteVacations:\n      newAppState.favoriteVacations = [...action.payload];\n      break;\n\n    case ActionType.UserLogout:\n      sessionStorage.clear();\n      history.push(\"/login\");\n      break;\n    // case ActionType.RemoveVacationFromFavorites:\n    //     let indexOfVacationToRemoveFromFavorites : number = newAppState.favoriteVacations.indexOf(action.payload);\n    //     newAppState.favoriteVacations.splice(indexOfVacationToRemoveFromFavorites, 1);\n    //     break;\n  }\n\n  return newAppState;\n}","map":{"version":3,"sources":["C:/Users/Ben/Desktop/John Bryce/פרוייקטים/project3 - Vacations/vacations/src/Redux/Reducer.ts"],"names":["ActionType","useHistory","reduce","oldAppState","action","newAppState","history","type","GetAllVacations","allVacations","payload","SetFollowedVacation","favoriteVacations","push","GetFavoriteVacations","UserLogout","sessionStorage","clear"],"mappings":"AAEA,SAASA,UAAT,QAA2B,cAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAGA,eAAe,SAASC,MAAT,CAAiBC,WAAjB,EAAyCC,MAAzC,EAAoE;AAE/E,QAAMC,WAAW,GAAG,EAAC,GAAGF;AAAJ,GAApB;AACA,QAAMG,OAAO,GAAGL,UAAU,EAA1B;;AAEA,UAAQG,MAAM,CAACG,IAAf;AACI,SAAKP,UAAU,CAACQ,eAAhB;AACIH,MAAAA,WAAW,CAACI,YAAZ,GAA2B,CAAC,GAAGL,MAAM,CAACM,OAAX,CAA3B;AACA;;AAEJ,SAAKV,UAAU,CAACW,mBAAhB;AACIN,MAAAA,WAAW,CAACO,iBAAZ,CAA8BC,IAA9B,CAAmCT,MAAM,CAACM,OAA1C;AACA;;AAEJ,SAAKV,UAAU,CAACc,oBAAhB;AACIT,MAAAA,WAAW,CAACO,iBAAZ,GAAgC,CAAC,GAAGR,MAAM,CAACM,OAAX,CAAhC;AACA;;AAEJ,SAAKV,UAAU,CAACe,UAAhB;AACIC,MAAAA,cAAc,CAACC,KAAf;AACAX,MAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACA;AAEJ;AACA;AACA;AACA;AArBJ;;AAwBA,SAAOR,WAAP;AACH","sourcesContent":["import AppState from \"./AppState\";\r\nimport Action from \"./Action\";\r\nimport { ActionType } from \"./ActionType\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function reduce (oldAppState : AppState, action : Action): AppState {\r\n\r\n    const newAppState = {...oldAppState};\r\n    const history = useHistory();\r\n\r\n    switch (action.type) {\r\n        case ActionType.GetAllVacations:\r\n            newAppState.allVacations = [...action.payload];\r\n            break;\r\n\r\n        case ActionType.SetFollowedVacation:\r\n            newAppState.favoriteVacations.push(action.payload);\r\n            break;\r\n        \r\n        case ActionType.GetFavoriteVacations:\r\n            newAppState.favoriteVacations = [...action.payload];\r\n            break;\r\n        \r\n        case ActionType.UserLogout:\r\n            sessionStorage.clear();\r\n            history.push(\"/login\");\r\n            break;\r\n\r\n        // case ActionType.RemoveVacationFromFavorites:\r\n        //     let indexOfVacationToRemoveFromFavorites : number = newAppState.favoriteVacations.indexOf(action.payload);\r\n        //     newAppState.favoriteVacations.splice(indexOfVacationToRemoveFromFavorites, 1);\r\n        //     break;\r\n    }\r\n\r\n    return newAppState;\r\n}"]},"metadata":{},"sourceType":"module"}